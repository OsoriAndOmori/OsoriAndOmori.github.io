<!DOCTYPE html><html lang="ko-Ko" data-mode="light" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6746159211291883" crossorigin="anonymous"></script><meta name="generator" content="Jekyll v4.2.2" /><meta property="og:title" content="ElasticSearch 1년간 운영하며" /><meta name="author" content="오소리사냥꾼" /><meta property="og:locale" content="ko_Ko" /><meta name="description" content="검색을 하지않는 이상, 결국 es 는 로깅 + 조회 용일뿐 데이터 가공한걸 넣고 쓰는용으로는 맞지않다. 가공은 다른곳에 저장하고, 순정 log로 보고 편하게 쌓고 보고싶을 떄 유용하다." /><meta property="og:description" content="검색을 하지않는 이상, 결국 es 는 로깅 + 조회 용일뿐 데이터 가공한걸 넣고 쓰는용으로는 맞지않다. 가공은 다른곳에 저장하고, 순정 log로 보고 편하게 쌓고 보고싶을 떄 유용하다." /><link rel="canonical" href="https://osoriandomori.github.io/posts/ElasticSearch-1%EB%85%84%EA%B0%84-%EC%9A%B4%EC%98%81%ED%95%98%EB%A9%B0/" /><meta property="og:url" content="https://osoriandomori.github.io/posts/ElasticSearch-1%EB%85%84%EA%B0%84-%EC%9A%B4%EC%98%81%ED%95%98%EB%A9%B0/" /><meta property="og:site_name" content="Osori Blog" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2020-06-09T09:00:00+00:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="ElasticSearch 1년간 운영하며" /><meta name="google-site-verification" content="3mGiMhW1vgijjQomvvMpPHU6NWze9aLLugKDHAyFIls" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"오소리사냥꾼","url":"https://github.com/OsoriAndOmori"},"dateModified":"2022-07-22T03:23:21+00:00","datePublished":"2020-06-09T09:00:00+00:00","description":"검색을 하지않는 이상, 결국 es 는 로깅 + 조회 용일뿐 데이터 가공한걸 넣고 쓰는용으로는 맞지않다. 가공은 다른곳에 저장하고, 순정 log로 보고 편하게 쌓고 보고싶을 떄 유용하다.","headline":"ElasticSearch 1년간 운영하며","mainEntityOfPage":{"@type":"WebPage","@id":"https://osoriandomori.github.io/posts/ElasticSearch-1%EB%85%84%EA%B0%84-%EC%9A%B4%EC%98%81%ED%95%98%EB%A9%B0/"},"url":"https://osoriandomori.github.io/posts/ElasticSearch-1%EB%85%84%EA%B0%84-%EC%9A%B4%EC%98%81%ED%95%98%EB%A9%B0/"}</script><title>ElasticSearch 1년간 운영하며 | Osori Blog</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Osori Blog"><meta name="application-name" content="Osori Blog"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" class="mx-auto"> <img src="/assets/img/turtle2.png" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Osori Blog</a></div><div class="site-subtitle font-italic">오소리 오모리들의 <br>공유용 학습 블로그 & 개발 수첩</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <a href="https://github.com/OsoriAndOmori" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['skywhite15','korea.ac.kr'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper"><div id="topbar" class="container d-flex align-items-center justify-content-between h-100 pl-3 pr-3 pl-md-4 pr-md-4"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>ElasticSearch 1년간 운영하며</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper" class="d-flex justify-content-center"><div id="main" class="container pl-xl-4 pr-xl-4"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-9 pr-xl-4"><div class="post pl-1 pr-1 pl-md-2 pr-md-2"><h1 data-toc-skip>ElasticSearch 1년간 운영하며</h1><div class="post-meta text-muted"> <span> Posted <em class="" data-ts="1591693200" data-df="ll" data-toggle="tooltip" data-placement="bottom"> Jun 9, 2020 </em> </span> <span> Updated <em class="" data-ts="1658460201" data-df="ll" data-toggle="tooltip" data-placement="bottom"> Jul 22, 2022 </em> </span><div class="d-flex justify-content-between"> <span> By <em> <a href="https://github.com/OsoriAndOmori">오소리사냥꾼</a> </em> </span><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="798 words"> <em>4 min</em> read</span></div></div></div><div class="post-content"><h2 id="검색을-하지않는-이상-결국-es-는-로깅--조회-용일뿐"><span class="mr-2">검색을 하지않는 이상, 결국 es 는 로깅 + 조회 용일뿐</span><a href="#검색을-하지않는-이상-결국-es-는-로깅--조회-용일뿐" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><ul><li>데이터 가공한걸 넣고 쓰는용으로는 맞지않다.<li>가공은 다른곳에 저장하고, 순정 log로 보고 편하게 쌓고 보고싶을 떄 유용하다.</ul><h2 id="별-생각없으면-적용하면-좋은-부분"><span class="mr-2">별 생각없으면 적용하면 좋은 부분</span><a href="#별-생각없으면-적용하면-좋은-부분" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><ul><li>index 는 가능하면 시간, 날짜 기반으로 설정할 수 있도록 하고, life cycle management 기능을 이용해 적당한 날짜가 지나면 삭제해준다.<li><strong>같은 데이터 포맷이면 같은 index로 쌓일 수 있도록 한다.</strong> =&gt; 이런 이유로 모든 nginx 로그 하나로 통합하는게 이득<li><a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/index-templates.html">index-template</a> 은 무조건 설정해서 효율적으로 index를 관리하자.<li>트래픽이 적은 index의 경우 hot 노드를 처음부터 쓰지않고 warm 으로 들어가게 하면 hot node shard 가 well balanced 해지기 떄문에 좋다.<ul><li>이는 다 섞어서 쓰게 되는경우, num of shards 를 비슷하게 가져가려고하는 elastic search rebalance 정책상 특정 노드에 트래픽이 몰리는 상황이 올 수 있다.<li>트래픽 많은 index 들은 shard 숫자를 적절히 셋팅해 사용 node를 묶고, 적은 노드들은 warm으로 보내 서로 독립적으로 돌도록해버린다.</ul></ul><h2 id="es는-restful-api를-지원하기-떄문에-언제-어디서든-조회가-너무나도-강력하다"><span class="mr-2">es는 RESTful Api를 지원하기 떄문에 언제 어디서든 조회가 너무나도 강력하다.</span><a href="#es는-restful-api를-지원하기-떄문에-언제-어디서든-조회가-너무나도-강력하다" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><ul><li>{endpoint}/{원하는index-pattern}/_search 로 어디서든 데이터 조회가 가능하다.<li>spring-data-elastic 의 RestClient.java 로 권장되긴 하지만, 복잡한 설정 필요없이 일반 RestTemplate.java 를 사용해도 아주 편하게 조회해올 수 있다.<div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre>  String url = UriComponentsBuilder.fromHttpUrl(ES_ENDPOINT)
                  .path("/contents-news-*")
                  .path("/_search").toUriString();
  HttpEntity&lt;String&gt; entity = new HttpEntity&lt;&gt;(ES_REQUEST_BODY, makeElasticSearchRequestHeaders());
  return new RestTemplate().postForEntity(url, entity, ESNewsAccessResponse.class);
</pre></table></code></div></div></ul><h2 id="cpu-usage에-영향을-주는-항목들"><span class="mr-2">cpu usage에 영향을 주는 항목들</span><a href="#cpu-usage에-영향을-주는-항목들" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><ol><li>높은 트래픽<ul><li>트래픽이 많아서 indexing 을 자주 하는 경우 cpu 가 튄다.</ul><li>적은양의 memory size<ul><li>elasticsearch 는 자바로 개발되었고, mem size가 적으면 gc가 자주 일어나기 떄문에 cpu 사용률이 높아진다. 이런경우 memory usage도 같이 확인해서 문제시 노드 스펙을 늘려본다.</ul><li>너무 많은 양의 shard 숫자<ul><li>shard 숫자가 많으면 조회시 그만큼 뒤져야할 cpu 일감이 많아져서 느려짐.<li>그럼 적정 숫자는 얼마인지는 운영하면서 파악을 해봐야하는데..</ul></ol><h2 id="샤드-갯수-정리"><span class="mr-2">샤드 갯수 정리</span><a href="#샤드-갯수-정리" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><ul><li>하나의 샤드는 가능하면 50g를 넘기지 않도록 구성한다.<li>클러스터 전체 샤드가 1000개 이상 되면 맛이 간다고 봐도 될 것 같다.<li>트래픽이 많은 index의 경우, node가 분산해서 데이터 쌓을 수 있게, shard 갯수 = cpu 코어 숫자 * 노드 수 (replica 0 일때)<li>ex) 멀티쓰레드지원 쿼드 코어로 5개 노드가 주어지면, 2 * 4 * 5 = 40개가 이론상 빠르나.. index가 많아지면 조회시 cpu usage 가 그만큼 올라간다.</ul></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/blogging/'>Blogging</a>, <a href='/categories/database/'>Database</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/database/" class="post-tag no-text-decoration" >database</a> <a href="/tags/elasticsearch/" class="post-tag no-text-decoration" >elasticsearch</a> <a href="/tags/sharding/" class="post-tag no-text-decoration" >sharding</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=ElasticSearch+1%EB%85%84%EA%B0%84+%EC%9A%B4%EC%98%81%ED%95%98%EB%A9%B0+-+Osori+Blog&url=https%3A%2F%2Fosoriandomori.github.io%2Fposts%2FElasticSearch-1%25EB%2585%2584%25EA%25B0%2584-%25EC%259A%25B4%25EC%2598%2581%25ED%2595%2598%25EB%25A9%25B0%2F" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=ElasticSearch+1%EB%85%84%EA%B0%84+%EC%9A%B4%EC%98%81%ED%95%98%EB%A9%B0+-+Osori+Blog&u=https%3A%2F%2Fosoriandomori.github.io%2Fposts%2FElasticSearch-1%25EB%2585%2584%25EA%25B0%2584-%25EC%259A%25B4%25EC%2598%2581%25ED%2595%2598%25EB%25A9%25B0%2F" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=https%3A%2F%2Fosoriandomori.github.io%2Fposts%2FElasticSearch-1%25EB%2585%2584%25EA%25B0%2584-%25EC%259A%25B4%25EC%2598%2581%25ED%2595%2598%25EB%25A9%25B0%2F&text=ElasticSearch+1%EB%85%84%EA%B0%84+%EC%9A%B4%EC%98%81%ED%95%98%EB%A9%B0+-+Osori+Blog" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" data-title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recently Updated</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/opensearch-%EA%B0%80%EC%9D%B4%EB%93%9C/">Opensearch 가이드 용 문서</a><li><a href="/posts/%EB%82%B4-%EB%A7%98%EB%8C%80%EB%A1%9C-%ED%8C%80-%EC%9E%85%EC%82%AC-%EA%B5%90%EC%9C%A1%EA%B3%BC%EC%A0%95/">내 맘대로 팀 입사 교육과정</a><li><a href="/posts/slack-%EB%B4%87-%EB%A7%8C%EB%93%A4%EB%A9%B0-%EA%B9%A8%EB%8B%AC%EC%9D%80-%ED%9B%84%EA%B8%B0/">slack 봇 만들며 깨달은 후기</a><li><a href="/posts/Kafka-%EB%AA%B0%EB%9E%90%EB%8D%98%EA%B1%B0/">Kafka 맨날 까먹는거만 정리</a><li><a href="/posts/%EC%9D%B8%ED%94%84%EB%9F%B0-%EC%8A%A4%ED%94%84%EB%A7%81-%EB%B6%80%ED%8A%B8-%ED%95%B5%EC%8B%AC-%EC%9B%90%EB%A6%AC/">Spring boot 핵심 원리</a></ul></div><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/spring/">spring</a> <a class="post-tag" href="/tags/database/">database</a> <a class="post-tag" href="/tags/spring-batch/">spring-batch</a> <a class="post-tag" href="/tags/nodejs/">nodejs</a> <a class="post-tag" href="/tags/elasticsearch/">elasticsearch</a> <a class="post-tag" href="/tags/k8s/">k8s</a> <a class="post-tag" href="/tags/mind-control/">mind-control</a> <a class="post-tag" href="/tags/nextjs/">nextjs</a> <a class="post-tag" href="/tags/react/">react</a> <a class="post-tag" href="/tags/sharding/">sharding</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">Contents</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 pl-3 pr-3 pr-xl-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/opensearch-%EA%B0%80%EC%9D%B4%EB%93%9C/"><div class="card-body"> <em class="small" data-ts="1761793200" data-df="ll" > Oct 30, 2025 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Opensearch 가이드 용 문서</h3><div class="text-muted small"><p> 분산형 검색 및 분석 엔진 Elasticsearch 오픈소스 기반으로 Amazon이 유지 중인 Community-Driven Fork 분산 인덱싱 + 검색 엔진 → 대용량 로그, 메트릭, 문서 데이터를 수평 확장으로 처리 REST API 기반으로 쉽게 접근 (/_search, /_cat/indices 등)...</p></div></div></a></div><div class="card"> <a href="/posts/dbcp-pool-setting/"><div class="card-body"> <em class="small" data-ts="1643187600" data-df="ll" > Jan 26, 2022 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>dbcp pool 설정에 관해서</h3><div class="text-muted small"><p> 메인DB mysql connection pool mysql 뿐만아니라 모든 db는 db 쪽에서 client connection pool 설정을 갖는다. 사용자가 아무리 많은 connection 맺을라고해도, 결국엔 client connection pool 이상을 넘지 못한다. 넘는 경우 연결을 만들 수 없다며 에러 받고 db access...</p></div></div></a></div><div class="card"> <a href="/posts/Neo4j-poc/"><div class="card-body"> <em class="small" data-ts="1643706000" data-df="ll" > Feb 1, 2022 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Neo4j Proof of Concept</h3><div class="text-muted small"><p> 1. DB-Engines Ranking of Graph DBMS 22년 1월 기준. ranking 1위. enterprise 큰 돈 받고, 파는. 2. 특징 자바 기반의 그래프 DB로서, 임베딩 방식과 REST 방식을 지원한다. jvm 상에서 돌기 때문에, 당연히 jvm 옵션들도 지원함. 주로 만지는 설정은 Heap memory, G...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/CustomArgumentResolver-%EC%82%AC%EC%9A%A9%EB%B2%95/" class="btn btn-outline-primary" prompt="Older"><p>CustomArgumentResolver 사용법</p></a> <a href="/posts/react-three-fiber-%EB%A1%9C-pts-%EB%A7%8C%EB%93%A4%EA%B8%B0/" class="btn btn-outline-primary" prompt="Newer"><p>react-three-fiber 로 야구 중계 만들기</p></a></div><script type="text/javascript"> $(function () { const origin = "https://giscus.app"; const iframe = "iframe.giscus-frame"; const lightTheme = "light"; const darkTheme = "dark_dimmed"; let initTheme = lightTheme; if ($("html[data-mode=dark]").length > 0 || ($("html[data-mode]").length == 0 && window.matchMedia("(prefers-color-scheme: dark)").matches)) { initTheme = darkTheme; } let giscusAttributes = { "src": "https://giscus.app/client.js", "data-repo": "OsoriAndOmori/OsoriAndOmori.github.io", "data-repo-id": "R_kgDOHsur3A", "data-category": "Announcements", "data-category-id": "DIC_kwDOHsur3M4CQXkw", "data-mapping": "pathname", "data-reactions-enabled": "1", "data-emit-metadata": "0", "data-theme": initTheme, "data-input-position": "bottom", "data-lang": "en", "crossorigin": "anonymous", "async": "" }; let giscusScript = document.createElement("script"); Object.entries(giscusAttributes).forEach(([key, value]) => giscusScript.setAttribute(key, value)); document.getElementById("tail-wrapper").appendChild(giscusScript); addEventListener("message", (event) => { if (event.source === window && event.data && event.data.direction === ModeToggle.ID) { /* global theme mode changed */ const mode = event.data.message; const theme = (mode === ModeToggle.DARK_MODE ? darkTheme : lightTheme); const message = { setConfig: { theme: theme } }; const giscus = document.querySelector(iframe).contentWindow; giscus.postMessage({ giscus: message }, origin); } }); }); </script></div></div><footer class="row pl-3 pr-3"><div class="col-12 d-flex justify-content-between align-items-center text-muted pl-0 pr-0"><div class="footer-left"><p class="mb-0"> © 2025 <a href="https://github.com/OsoriAndOmori">osori</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/spring/">spring</a> <a class="post-tag" href="/tags/database/">database</a> <a class="post-tag" href="/tags/spring-batch/">spring-batch</a> <a class="post-tag" href="/tags/nodejs/">nodejs</a> <a class="post-tag" href="/tags/elasticsearch/">elasticsearch</a> <a class="post-tag" href="/tags/k8s/">k8s</a> <a class="post-tag" href="/tags/mind-control/">mind-control</a> <a class="post-tag" href="/tags/nextjs/">nextjs</a> <a class="post-tag" href="/tags/react/">react</a> <a class="post-tag" href="/tags/sharding/">sharding</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a><div id="notification" class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-animation="true" data-autohide="false"><div class="toast-header"> <button type="button" class="ml-2 ml-auto close" data-dismiss="toast" aria-label="Close"> <span aria-hidden="true">&times;</span> </button></div><div class="toast-body text-center pt-0"><p class="pl-2 pr-2 mb-3">A new version of content is available.</p><button type="button" class="btn btn-primary" aria-label="Update"> Update </button></div></div><script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No results found.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lozad/dist/lozad.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/ko.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-LGKLELXQQR"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-LGKLELXQQR'); }); </script>
