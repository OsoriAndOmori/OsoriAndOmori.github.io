---
title: Google Cloud Platform GCP 정리
author: OsoriAndOmori
date: 2022-07-13 18:00:00 +0900
categories: [Blogging, DevOps]
tags: [cloud, gcp, google-cloud-platform]
---

### 개요
- 전통적인 IT(온프레미스): 기업이 할거 다해야함 -> IaaS -> PaaS ->
- 그리고 SaaS : 구글클라우드 자체.

- 그래도 클라우드도 첼린지할 이슈가 많음.
  - 보안 : 제2 전문업체에 기업 정보가 다 올라감. 클라우드가 털리면 데이터 전부 유출.
  - 인력 자원이 별로 없다...

### GCP 의 특장점. 타 클라우드와 비교해볼때
  1. 편리한 메시징 서비스
    - GCP 는 Pub/Sub 으로 모든 내용 수행 가능
    - 공식 지원 pub/sub
  2. 최고의 머신러닝 서비스
    - 파이썬 자바몰라도 SQL 문으로 ML 모델 생성 가능
    - Speech toText
    - Vision AI 감정 텍스트분석
  3. 안전하고 유연한 네트워크
    - 자체 네트워크 라인.
    - 전역적인 VPC
  4. 저렴함
  5. 리전이 많음. 28개, 85개의 가용영역

### 권한
- Im 매니지먼트을 통해 실시함. 협업 용

### Compute Engine
- 가상장비 하나 받는 거라고 생각하면됨.
- 최저비용이 월 만원정도
- 이 인스턴스를 그대로 묶어 스냅샷 가능 -> 부팅디스크 항목을 설정하면 됨. -> 도커 같은 느낌이지
- 마켓 플레이스 인스턴스
  - 몽고, 젠킨스, 엘라스틱, 비트나미..
  - Deployment Manage 를 통해서 관리할 것.
- 인스턴스 템플릿으로 미리미리 만들어 둘 수 있음
- 인스턴스 그룹 : k8s auto scailing 의 활. 자동 업데이트 기능 지원.
  - 관리형 인스턴스 그룹 : API 같은거
  - 비관리형 인스턴스 그룹 : 로드밸런서
  - 헬쓰체크 지원 가능
  - 동시 배포 가능.
- 관리 : 시작스크립트 넣을 수 있음

### GCS
- 클라우스 스토리지. 이미지, 파일 등.. AWS S3
- Owfs, 나스라고 생각하자 그냥 내가 쓰던거
- 서버에 마운트를 직접적으로 하는건 아니고 `gsutil` 도구로 관리하는 개념.
  - 설치가 좀 귀찮은 것 같다. 한번 설치하고 인스턴스 이미지화 해두어야할듯함.

### VPC
- virtual private cloud : 사설망

### 로드밸런서
- 그냥 내가 아는 그거
- 웹서버 만들고 -> 스냅샷 -> 이미지 -> 인스턴스 템플릿 -> 인스턴스 그룹화 해서 오토스케일쓰자
- 로드밸런서 생성하고 -> 인스턴스 그룹 연결로 종료
- stress

## Bigquery
- 페타바이트 급 데이터 저장 분석용.
  - mysql 쿼리와 동일
  - 쿼리를 쓰다보니 접근성이 진짜 캡좋음. 누구나 쉽게 쓸 수 있음. 하둡 사용같은 허들 필요없음.
  - 장비 관리 필요없음
- 웹으로 workbench 같은걸 제공함. 누구나 약간 편하게 거대 저장소를 쓸 수 있게 오픈한 상태
- 특징
  - 칼럼마다 쪼개서 데이터를 저장
  - 노 인덱스, 항상 풀스캔
  - 칼럼마다 다른파일로 저장하기 떄문에, 데이터 저장 삭제만 가능함. 수정 불가능.
  - insert into 3개 넣는게 2초가 걸림... 소규모 데이터 빈번하게 넣거나 업데이트하는데는 매우 좋지않은 서비스.

## GCP PUB / SUB
- 퍼블리셔 1 / 구독자 다수
- 특정 주제 메세지 전송하면 -> 구독자가 메세지 송신함.
  - 데이터 동기화 같은거에 쓰는듯?
  - 서비스간 통로를 통일하는데 괜찮긴한듯. 뭐 우리가 카프카 쓰는거랑 차이는 없을것 같음.
- 방법
  - 버킷 생성 -> 주제 생성 -> 메세지 누가 주제로보내면 -> DataFlow 따라 -> 빅쿼리나 스토리지에 기록

## AppEngine

## Cloud Scheduler
- 약간 jenkins 같이 타이머 시간마다 호출하게 해주는거 구독에 쓰기도함.
